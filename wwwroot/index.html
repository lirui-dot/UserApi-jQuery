<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title></title>
</head>

<body>
    <form action="javascript:void(0);" method="POST">

        <div>
            <h2>
                登录
            </h2>
            <p>
                用户名:<input type="text" id="UserName" />
            </p>
            <p>
                密&emsp;码:<input type="password" id="PassWord" />
            </p>
            <p>
                <input type="submit" id="loginButton" value="登录" />
            </p>
            <p>
                <a href="register.html">立即注册</a>
            </p>

        </div>
    </form>
</body>

<script src="jQuery/jquery-3.5.1.js" type="text/javascript"></script>
<script>
    $(function () {
        $('#loginButton').click(function () {
            var username = $('#UserName').val();
            var pwd = $('#PassWord').val();
            if (username == "") {
                alert("用户名不能为空");
                return;
            }
            if (pwd == "") {
                alert("密码不能为空");
                return;
            }
            var item = {
                UserName: username,
                PassWord: pwd
            }
            $.ajax({
                url: "https://localhost:5001/api/User",
                type: "POST",
                dataType: "json",
                contentType: 'application/json',
                data: JSON.stringify(item),
                success: function (item) {
                    alert("登录成功！");
                    window.location.href = 'personal.html' + '?id=' + item.id;
                }
            })
        })
    })
</script>

</html>